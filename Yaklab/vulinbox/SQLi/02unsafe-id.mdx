---
sidebar_position: 2
---

# 02.ID 为数字型的简单边界 SQL 注入

ID 为数字型的简单边界 SQL 注入是一种常见的 SQL 注入漏洞，通常出现在 Web 应用程序中。这种漏洞的攻击目标是应用程序中处理 ID 参数的代码，由于没有对输入进行充分验证和过滤，导致攻击者可以在 ID 参数中注入恶意的 SQL 代码。

在这种情况下，攻击者通常会尝试构造特定的输入，以绕过应用程序的验证和过滤机制，注入恶意的 SQL 语句。

### 示例代码：

```sql
SELECT * FROM users WHERE id = 输入的ID值;
```

### 攻击示例:

```sql
1 OR 1=1
```

这样构造的 SQL 语句变成：

```sql
/*构造后的SQL*/
SELECT * FROM users WHERE id = 1 OR 1=1
```

由于 1=1 这个条件始终为真，整个查询语句将返回所有用户的数据，而不仅仅是匹配到的特定 ID 的用户数据。这就是 SQL 注入攻击的原理，攻击者可以通过注入恶意的 SQL 代码来绕过应用程序的身份验证，获取未授权的数据或执行恶意操作。

### 防御措施：

- 使用参数化查询或预编译语句，确保用户输入的 ID 值不直接拼接到 SQL 查询中。
- 对输入的 ID 值进行验证，确保它是合法的数字，并限制 ID 值的范围在合理的边界内。
- 对输入的 ID 值进行过滤，确保它不包含任何恶意代码或特殊字符。
- 最小化数据库的权限，确保应用程序只能访问必要的数据，并限制对数据库的敏感操作。
- 定期进行安全审计和渗透测试，以发现和修复潜在的 SQL 注入漏洞。

通过采取这些安全措施，可以有效地防止 ID 为数字型的简单边界 SQL 注入漏洞，并提高 Web 应用程序的安全性。

### 靶场演示： 视频

<video
  src="/img/yaklab/sqli/unsafe-id.mp4"
  loop={true}
  playsInline={true}
  controls={true}
  autoPlay={true}
  style={{ width: 890 }}
/>
